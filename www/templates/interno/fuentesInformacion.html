<ion-view view-title="Como se enteran los visitantes sobre el departamento del Atlántico">
  <ion-content>
		<div class="card animated fadeInLeft list" ng-if="errores">
		  <div class="item item-divider situr-header-error">
		      <h2>Corrige los errores</h2>
		  </div>
		  <div class="assertive item errors" ng-repeat="error in errores">
		    {{error[0]}}
		  </div>
		</div>
		<form role="form" name="forms.inForm" novalidate>
			<div class="card animated fadeInLeft">
        <div class="item item-divider situr-header required">
          <h2>¿Antes del viaje, de qué forma usted se enteró de los destinos turísticos visitados?</h2>
        </div>
        <div  ng-repeat="it in fuentesAntes | orderBy:'id'">
          <ion-checkbox 
            class="ripple ripple-green" 
            name="fuentesAntes" 
            ng-click="toggleSelection(it.id);validar(2, it.id)"
            ng-checked="checked(it.id, enteran.FuentesAntes)">
            {{it.fuente_informacion_antes_viaje_con_idiomas[0].nombre}}
            <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.fuentesAntes.$touched">
              <span ng-show="enteran.FuentesAntes.length == 0">*</span>
            </span>
          </ion-checkbox>
          <label class="item item-input item-floating-label" ng-if="it.id==14">
            <span class="input-label" >Otro</span>
            <input 
              type="text" 
              placeholder="Otro" 
              name="otroFantes"  
              id="inputOtro_atrativo"  
              ng-model="enteran.OtroFuenteAntes" 
              ng-change="validarOtro(0)" 
              ng-required="enteran.FuentesAntes.indexOf(14) !== -1">
              <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.fuentesAntes.$touched">
                <span ng-show="forms.inForm.otroFantes.$error.required">*</span>
              </span>
          </label>
        </div>                      
	    </div>

	    <div class="card animated fadeInLeft">
        <div class="item item-divider situr-header required">
          <h2>¿Durante la permanencia en el Atlántico, de qué forma usted buscó más información sobre destinos turísticos?</h2>
        </div>
        <div  ng-repeat="it in fuentesDurante ">

          <ion-checkbox 
            class="ripple ripple-green" 
            name="fuentesDurante" 
            ng-disabled="(enteran.FuentesDurante.indexOf(13) > -1 && it.id!=13)" 
            ng-click="toggleSelection2(it.id,$event);validar(0, it.id)"
            ng-checked="checked(it.id, enteran.FuentesDurante)">
            {{it.fuentes_informacion_durante_viaje_con_idiomas[0].nombre}}
            <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.fuentesDurante.$touched">
              <span ng-show="enteran.FuentesDurante.length == 0">*</span>
            </span>
          </ion-checkbox>
          
          <label class="item item-input item-floating-label"  ng-if="it.id==14">
            <span class="input-label" >Otro</span>
            <input 
              type="text" 
              placeholder="Otro" 
              name="otroDurante" 
              class="form-control" 
              id="inputOtro_atrativo"
              ng-disabled="enteran.FuentesDurante.indexOf(13) > -1 " 
              ng-model="enteran.OtroFuenteDurante" 
              ng-change="validarOtro(1)" 
              ng-required="enteran.FuentesDurante.indexOf(14) != -1">
              <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.fuentesDurante.$touched">
                <span ng-show="forms.inForm.otroDurante.$error.required">*</span>
              </span>
          </label>
        </div>                      
      </div>

      <div class="card animated fadeInLeft">
        <div class="item item-divider situr-header required">
          <h2>¿Después del viaje al Atlántico en qué redes y medios sociales compartió su experiencia de viaje (Comentarios, fotos, etc)?</h2>
        </div>
        <div ng-repeat="it in redes">
          <ion-checkbox 
            class="ripple ripple-green" 
            name="redes" 
            ng-disabled="enteran.Redes.indexOf(1) > -1 && it.id != 1" 
            ng-checked="checked(it.id, enteran.Redes)"
            ng-click="toggleSelection3(it.id,$event);validar(1, it.id)">
            {{it.nombre}}
            <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.redes.$touched">
              <span ng-show="enteran.Redes.length == 0">*</span>
            </span>
          </ion-checkbox> 

          
          <label class="item item-input item-floating-label"  ng-if="it.id==12">
            <span class="input-label" >Otro</span>
            <input 
              type="text" 
              placeholder="Otro"  
              name="otroRed" 
              class="form-control" 
              id="otroRed" 
              ng-disabled="enteran.Redes.indexOf(12) < 0"
              ng-model="enteran.otra_red" 
              ng-change="validarOtro(2)" 
              ng-required="enteran.Redes.indexOf(12) != -1" >
              <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.redes.$touched">
                <span ng-show="forms.inForm.otroRed.$error.required">*</span>
              </span>
          </label>
   
        </div>                      
      </div>

      <div class="card animated fadeInLeft">
        <div class="item item-divider situr-header required">
          <h2>¿Le gustaría que le enviáramos información sobre el Atlántico a su correo electrónico?</h2>
        </div>               
        <ion-radio 
          value="1" 
          ng-model="enteran.Correo" 
          class="ripple ripple-green" 
          name="info"
          ng-required="true">
          Si
          <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.info.$touched">
            <span ng-show="forms.inForm.info.$error.required">*</span>
          </span>
        </ion-radio>

        <ion-radio 
          value="0" 
          ng-model="enteran.Correo" 
          class="ripple ripple-green" 
          name="info"
          ng-required="true">
          No
          <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.info.$touched">
            <span ng-show="forms.inForm.info.$error.required">*</span>
          </span>
        </ion-radio>  
      </div>

      <div class="card animated fadeInLeft">
        <div class="item item-divider situr-header required">
          <h2>¿Le gustaría que le enviáramos una invitación por redes sociales para seguir al Atlántico?</h2>
        </div>               
          <ion-radio 
            value="1" 
            ng-model="enteran.Invitacion"
            class="ripple ripple-green" 
            name="networks"
            ng-required="true">
            Si
            <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.networks.$touched">
              <span ng-show="forms.inForm.networks.$error.required">*</span>
            </span>
          </ion-radio>

          <ion-radio 
            value="0" 
            ng-model="enteran.Invitacion" 
            class="ripple ripple-green" 
            name="networks"
            ng-required="true">
            No
            <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.networks.$touched">
              <span ng-show="forms.inForm.networks.$error.required">*</span>
            </span>
          </ion-radio>  
      </div>

      <div class="card animated fadeInLeft"  ng-if="enteran.Invitacion==1">
        <div class="item item-divider situr-header">
          <h2> ¿Cómo podemos buscarlo en facebook?</h2>
        </div>

        <label class="item item-input item-floating-label">
          <span class="input-label" >Escriba su cuenta de Facebook</span>
          <input 
            type="text" 
            placeholder="Escriba su cuenta de Facebook" 
            ng-model="enteran.NombreFacebook"
            name="facebook">
            <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.facebook.$touched">
              <span ng-show="forms.inForm.facebook.$error.required">*</span>
            </span>
        </label>
      </div>

      <div class="card animated fadeInLeft"  ng-if="enteran.Invitacion==1">
        <div class="item item-divider situr-header">
          <h2> ¿Cómo podemos buscarlo en Twitter?</h2>
        </div>

        <label class="item item-input item-floating-label">
          <span class="input-label" >Escriba su cuenta de Twitter</span>
          <input 
            type="text" 
            placeholder="Escriba su cuenta de Twitter" 
            ng-model="enteran.NombreTwitter"
            name="twitter">
            <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.twitter.$touched">
              <span ng-show="forms.inForm.twitter.$error.required">*</span>
            </span>
        </label>
      </div>

      <div class="card animated fadeInLeft"  >
        <div class="item item-divider situr-header">
          <h2>De acuerdo a su experiencia durante el viaje realizado, calique B (Bueno) R (Regular) M (Malo), el siguiente grupo de preguntas referente a los servicios utilizados y al entorno turístico visitado: </h2>
        </div>
        <div class="" >
            <div class="row row-table">
              <div class="col col-40">SERVICIOS</div>
              <div class="col col-15">B</div>
              <div class="col col-15">M</div>
              <div class="col col-15">R</div>  
              <div class="col col-15">NA</div>  
            </div> 
            <div class="row row-table-col" ng-repeat="e in experiencias|filter:{tipo:false}">
              <div class="col col-40">{{e.nombre}}</div>
              <div class="col col-15" ng-repeat="c in calificaciones" style="text-align:center">
                <ion-radio 
                  ng-required="true"
                  name="calificacion_{{e.id}}" 
                  ng-model="e.valor" 
                  value="{{c.id}}">
                  
                </ion-radio>
              </div>
              
              <div class="col col-15">
                <ion-radio 
                  ng-required="true"
                  name="calificacion_{{e.id}}" 
                  ng-model="e.valor" 
                  value="-1">
                </ion-radio>
              </div>  
            </div>

            <div class="row row-table">
              <div class="col col-40">ENTORNO TURÍSTICO</div>
              <div class="col col-15"></div>
              <div class="col col-15"></div>
              <div class="col col-15"></div>  
              <div class="col col-15"></div>  
            </div>
            <div class="row row-table-col" ng-repeat="e in experiencias|filter:{tipo:true}">
              <div class="col col-40">{{e.nombre}}</div>
              <div class="col col-15" ng-repeat="c in calificaciones" style="text-align:center">
                <ion-radio 
                  ng-required="true"
                  name="calificacion_{{e.id}}" 
                  ng-model="e.valor" 
                  value="{{c.id}}">
                  
                </ion-radio>
              </div>
              
              <div class="col col-15">
                <ion-radio 
                  ng-required="true"
                  name="calificacion_{{e.id}}" 
                  ng-model="e.valor" 
                  value="-1">
                </ion-radio>
              </div>  
            </div> 
        </div>
      </div>

      <div class="card animated fadeInLeft">
        <div class="item item-divider situr-header required">
          <h2>Dando cumplimiento a la ley de Protección de datos personales, solicito su autorización para que pueda contactarlo nuevamente. ¿Está usted de acuerdo?</h2>
        </div>               
        <ion-radio 
          class="ripple ripple-green" 
          name="acepta_autorizacion" 
          id="acepta_autorizacion" 
          ng-required="true" 
          value="0" 
          ng-model="enteran.Autorizo">
          Si
          <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.acepta_autorizacion.$touched">
            <span ng-show="forms.inForm.acepta_autorizacion.$error.required">*</span>
          </span>
        </ion-radio>

        <ion-radio 
          class="ripple ripple-green" 
          name="acepta_autorizacion" 
          id="acepta_autorizacion" 
          ng-required="true" 
          value="1" 
          ng-model="enteran.Autorizo">
          No
          <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.acepta_autorizacion.$touched">
            <span ng-show="forms.inForm.acepta_autorizacion.$error.required">*</span>
          </span>
        </ion-radio>  
      </div>

      <div class="card animated fadeInLeft">
        <div class="item item-divider situr-header required">
          <h2>Ya para terminar, le solicito su autorización para que SITUR ATLÁNTICO comparta sus respuestas con las entidades que contrataron el proyecto, ¿Está usted de acuerdo?</h2>
        </div>               
        <ion-radio 
          class="ripple ripple-green" 
          name="acepta_tratamiento" 
          id="acepta_tratamiento" 
          ng-required="true" 
          value="0" 
          ng-model="enteran.Acepta_tratamiento">
          Si
          <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.acepta_tratamiento.$touched">
            <span ng-show="forms.inForm.acepta_tratamiento.$error.required">*</span>
          </span>
        </ion-radio>

        <ion-radio 
          value="1" 
          class="ripple ripple-green" 
          name="acepta_tratamiento" 
          id="acepta_tratamiento" 
          ng-required="true" 
          value="1" 
          ng-model="enteran.Acepta_tratamiento">
          No
          <span class="validated" ng-show="forms.inForm.$submitted || forms.inForm.acepta_tratamiento.$touched">
            <span ng-show="forms.inForm.acepta_tratamiento.$error.required">*</span>
          </span>
        </ion-radio>  
      </div>

      <div class="row">
        <div class="col col-50">

          <a href="#/app/gastosInterno/{{id}}" class="button button-outline button-positive ripple ripple-green button-block" >
            Anterior
          </a>
        </div>
        <div class="col col-50">
          <button type="submit" ng-click="guardar()" class=" button button-positive ripple ripple-light button-block" >
            Guardar
          </button>
        </div>
      </div>
      
    </form>
    <br><br><br>  
	</ion-content>
</ion-view>